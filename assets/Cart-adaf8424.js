import{r as i,j as s}from"./index-33503fdb.js";import{X as z,d as J,J as R}from"./fbase-b339bbaa.js";import{C as u,c as b}from"./img-cancel-62ddd0e6.js";import{N as w}from"./Button-da4d2c5c.js";const M="_cart_1av86_139",X={cart:M},B="_cartList_1orbi_139",D="_radio_1orbi_147",O="_all_1orbi_157",q="_bar_1orbi_164",G="_accordions_1orbi_177",H="_accordion_1orbi_177",K="_inner_1orbi_191",Q="_icon_1orbi_201",U="_logo_1orbi_210",V="_text_1orbi_214",W="_arrow_1orbi_222",Y="_detail_1orbi_234",Z="_product_1orbi_241",ss="_image_1orbi_250",es="_desc_1orbi_254",as="_price_1orbi_269",cs="_cancel_1orbi_285",ls="_checkbox_1orbi_291",is="_input_1orbi_295",ts="_label_1orbi_298",e={cartList:B,radio:D,all:O,bar:q,delete:"_delete_1orbi_169",accordions:G,accordion:H,inner:K,icon:Q,logo:U,text:V,arrow:W,detail:Y,product:Z,image:ss,desc:es,price:as,cancel:cs,checkbox:ls,input:is,label:ts},v="/assets/img-down-arrow-851de25c.svg",rs="/assets/img-refrigerated-food-f7ceba47.svg",ns="/assets/img-frozen-food-9fba03ec.svg",os="/assets/img-roomTemp-food-4fe99ee3.svg";function ds({checked:As=!1,type:o="checkbox",...Fs}){i.useId();const[$,P]=i.useState([]),T=z(J,"products");i.useEffect(()=>{(async()=>{try{const n=(await R(T)).docs.map(S=>({...S.data(),id:S.id}));P(n)}catch(l){console.log(l)}})()},[]);const[L,E]=i.useState([]);i.useEffect(()=>{let a=sessionStorage.getItem("cart");a==null?a=[]:(a=JSON.parse(a),E(a))},[]);const A=L.map(a=>a.productId),t=$.filter(a=>A.includes(a.id)),j=t.filter(a=>a.type==="refrigerator"),_=t.filter(a=>a.type==="frozen"),p=t.filter(a=>a.type==="roomTemp"),[r,d]=i.useState([]),[N,F]=i.useState(!0),f=(a,l)=>{d(a?n=>[...n,l]:r.filter(n=>n!==l))},k=a=>{if(a){const l=[];t.forEach(n=>l.push(n.id)),d(l)}else d([])},g=()=>{F(a=>!a)},[m,C]=i.useState([]),[h,y]=i.useState([]),[x,I]=i.useState([]);return i.useEffect(()=>{C(m)},[m]),i.useEffect(()=>{y(h)},[h]),i.useEffect(()=>{I(x)},[x]),s.jsxs("div",{className:e.cartList,children:[s.jsxs("div",{className:e.radio,children:[s.jsxs("div",{className:e.checkbox,children:[s.jsx("input",{type:o,id:"selectAllTop",name:"select-all",className:e.input,onChange:a=>k(a.target.checked),checked:r.length===t.length}),s.jsx("label",{htmlFor:"selectAllTop",className:e.label})]}),s.jsxs("span",{className:e.all,children:["전체선택 (",r.length,"/",t.length,")"]}),s.jsx("div",{className:e.bar}),s.jsx("span",{className:e.delete,children:"선택삭제"})]}),s.jsxs("ul",{className:e.accordions,children:[s.jsxs("li",{className:e.accordion,children:[j.length>0?s.jsxs("div",{className:e.inner,children:[s.jsxs("div",{className:e.icon,children:[s.jsx("img",{src:rs,alt:"냉장 식품",className:e.logo}),s.jsx("span",{className:e.text,children:"냉장 식품"})]}),s.jsx("button",{type:"button",className:e.arrow,onClick:a=>g(a.target),children:s.jsx("img",{src:v,alt:"더보기",className:e.arrowImg})})]}):"",N?"":s.jsx("ul",{className:e.detail,children:j.length>0?j.map(a=>s.jsxs("li",{className:e.product,children:[s.jsxs("div",{className:e.checkbox,children:[s.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:e.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),s.jsx("label",{htmlFor:`select-${a.id}`,className:e.label})]}),s.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:e.image}),s.jsx("div",{className:e.desc,children:s.jsx("span",{className:e.text,children:a.productName})}),s.jsx(u,{setParentState:C}),s.jsx("div",{className:e.price,children:s.jsxs("span",{className:e.text,children:[(a.salePrice===0?m*a.price:m*a.salePrice).toLocaleString(),"원"]})}),s.jsx("button",{type:"button",className:e.cancel,children:s.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]}),s.jsxs("li",{className:e.accordion,children:[_.length>0?s.jsxs("div",{className:e.inner,children:[s.jsxs("div",{className:e.icon,children:[s.jsx("img",{src:ns,alt:"냉동 식품",className:e.logo}),s.jsx("span",{className:e.text,children:"냉동 식품"})]}),s.jsx("button",{type:"button",className:e.arrow,onClick:g,children:s.jsx("img",{src:v,alt:"더보기",className:e.arrowImg})})]}):"",N?"":s.jsx("ul",{className:e.detail,children:_.length>0?_.map(a=>s.jsxs("li",{className:e.product,children:[s.jsxs("div",{className:e.checkbox,children:[s.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:e.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),s.jsx("label",{htmlFor:`select-${a.id}`,className:e.label})]}),s.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:e.image}),s.jsx("div",{className:e.desc,children:s.jsx("span",{className:e.text,children:a.productName})}),s.jsx(u,{setParentState:y}),s.jsx("div",{className:e.price,children:s.jsxs("span",{className:e.text,children:[(a.salePrice===0?h*a.price:h*a.salePrice).toLocaleString(),"원"]})}),s.jsx("button",{type:"button",className:e.cancel,children:s.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]}),s.jsxs("li",{className:e.accordion,children:[p.length>0?s.jsxs("div",{className:e.inner,children:[s.jsxs("div",{className:e.icon,children:[s.jsx("img",{src:os,alt:"상온 식품",className:e.logo}),s.jsx("span",{className:e.text,children:"상온 식품"})]}),s.jsx("button",{type:"button",className:e.arrow,onClick:g,children:s.jsx("img",{src:v,alt:"더보기",className:e.arrowImg})})]}):"",N?"":s.jsx("ul",{className:e.detail,children:p.length>0?p.map(a=>s.jsxs("li",{className:e.product,children:[s.jsxs("div",{className:e.checkbox,children:[s.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:e.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),s.jsx("label",{htmlFor:`select-${a.id}`,className:e.label})]}),s.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:e.image}),s.jsx("div",{className:e.desc,children:s.jsx("span",{className:e.text,children:a.productName})}),s.jsx(u,{setParentState:I}),s.jsx("div",{className:e.price,children:s.jsxs("span",{className:e.text,children:[(a.salePrice===0?x*a.price:x*a.salePrice).toLocaleString(),"원"]})}),s.jsx("button",{type:"button",className:e.cancel,children:s.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]})]}),s.jsxs("div",{className:e.radio,children:[s.jsxs("div",{className:e.checkbox,children:[s.jsx("input",{type:o,id:"selectAllTop",name:"select-all",className:e.input,onChange:a=>k(a.target.checked),checked:r.length===t.length}),s.jsx("label",{htmlFor:"selectAllTop",className:e.label})]}),s.jsxs("span",{className:e.all,children:["전체선택 (",r.length,"/",t.length,")"]}),s.jsx("div",{className:e.bar}),s.jsx("span",{className:e.delete,children:"선택삭제"})]})]})}const ms="_credit_2tsi3_139",hs="_location_2tsi3_148",xs="_frame122_2tsi3_156",js="_frame121_2tsi3_166",_s="_address_2tsi3_186",ps="_delivery_2tsi3_194",Ns="_frame120_2tsi3_202",fs="_title_2tsi3_212",gs="_frame119_2tsi3_219",us="_frame112_2tsi3_229",bs="_price_2tsi3_239",vs="_priceType_2tsi3_246",ks="_frame113_2tsi3_253",Cs="_frame114_2tsi3_262",ys="_frame115_2tsi3_271",Is="_frame118_2tsi3_280",Ss="_frame116_2tsi3_289",ws="_frame117_2tsi3_323",$s="_badge_2tsi3_332",Ps="_saleInfo_2tsi3_350",Ts="_notice_2tsi3_358",c={credit:ms,location:hs,frame122:xs,frame121:js,address:_s,delivery:ps,frame120:Ns,title:fs,frame119:gs,frame112:us,price:bs,priceType:vs,frame113:ks,frame114:Cs,frame115:ys,frame118:Is,frame116:Ss,frame117:ws,badge:$s,saleInfo:Ps,notice:Ts},Ls="/assets/img-location-5dffef3c.svg";function Es(){return s.jsxs("div",{className:c.credit,children:[s.jsxs("div",{className:c.location,children:[s.jsxs("div",{className:c.frame122,children:[s.jsxs("div",{className:c.frame121,children:[s.jsx("img",{src:Ls,alt:"배송지"}),s.jsx("span",{children:"배송지"})]}),s.jsx("span",{className:c.address,children:"서울 중랑구 면목로 42길 11 (행운빌딩) 603호"}),s.jsx("span",{className:c.delivery,children:"샛별배송"}),s.jsx(w,{width:"244",color:"true",children:s.jsx("span",{children:"배송지 변경"})})]}),s.jsxs("div",{className:c.frame120,children:[s.jsxs("div",{className:c.frame119,children:[s.jsxs("div",{className:c.frame113,children:[s.jsx("span",{className:c.title,children:"상품금액"}),s.jsxs("div",{className:c.frame112,children:[s.jsx("span",{className:c.price,children:"40,680"}),s.jsx("span",{className:c.priceType,children:"원"})]})]}),s.jsxs("div",{className:c.frame114,children:[s.jsx("span",{className:c.title,children:"상품할인금액"}),s.jsxs("div",{className:c.frame112,children:[s.jsx("span",{className:c.price,children:"-4,651"}),s.jsx("span",{className:c.priceType,children:"원"})]})]}),s.jsxs("div",{className:c.frame115,children:[s.jsx("span",{className:c.title,children:"배송비"}),s.jsx("div",{className:c.slice}),s.jsxs("div",{className:c.frame112,children:[s.jsx("span",{className:c.price,children:"+3,000"}),s.jsx("span",{className:c.priceType,children:"원"})]})]})]}),s.jsxs("div",{className:c.frame118,children:[s.jsxs("div",{className:c.frame116,children:[s.jsx("span",{className:c.title,children:"결제예정금액"}),s.jsxs("div",{className:c.frame112,children:[s.jsx("span",{className:c.price,children:"40,680"}),s.jsx("span",{className:c.priceType,children:"원"})]})]}),s.jsxs("div",{className:c.frame117,children:[s.jsx("div",{className:c.badge,children:s.jsx("span",{children:"적립"})}),s.jsx("span",{className:c.saleInfo,children:"최대 36원 적립 일반 0.1%"})]})]})]})]}),s.jsx(w,{width:"284",children:s.jsx("span",{children:"주문하기"})}),s.jsxs("div",{className:c.notice,children:[s.jsx("p",{children:"쿠폰/적립금은 주문서에서 사용 가능합니다"}),s.jsx("p",{children:"[주문완료] 상태일 경우에만 주문 취소 가능합니다."}),s.jsx("p",{children:"[마이컬리 > 주문내역 상세페이지] 에서 직접 취소하실 수 있습니다."}),s.jsx("p",{children:"쿠폰, 적립금 사용 금액을 제외한 실 결제 금액 기준으로 최종 산정됩니다."}),s.jsx("p",{children:"상품별로 적립금 지급 기준이 다를 수 있습니다. (상품 상세 페이지에서 확인 가능합니다)"})]})]})}const Xs=()=>s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"장바구니"}),s.jsxs("div",{className:X.cart,children:[s.jsx(ds,{}),s.jsx(Es,{})]})]});export{Xs as default};
