import{r as i,j as e}from"./index-6ef1c1c2.js";import{X as F,d as z,J as U}from"./fbase-b339bbaa.js";import{C as u,c as b}from"./img-cancel-b1ed86f6.js";import{N as L}from"./Button-ea55c6a4.js";const J="_cart_1av86_139",M={cart:J},X="_cartList_1orbi_139",B="_radio_1orbi_147",D="_all_1orbi_157",O="_bar_1orbi_164",q="_accordions_1orbi_177",G="_accordion_1orbi_177",H="_inner_1orbi_191",K="_icon_1orbi_201",Q="_logo_1orbi_210",V="_text_1orbi_214",W="_arrow_1orbi_222",Y="_detail_1orbi_234",Z="_product_1orbi_241",ee="_image_1orbi_250",se="_desc_1orbi_254",ae="_price_1orbi_269",ce="_cancel_1orbi_285",le="_checkbox_1orbi_291",ie="_input_1orbi_295",te="_label_1orbi_298",s={cartList:X,radio:B,all:D,bar:O,delete:"_delete_1orbi_169",accordions:q,accordion:G,inner:H,icon:K,logo:Q,text:V,arrow:W,detail:Y,product:Z,image:ee,desc:se,price:ae,cancel:ce,checkbox:le,input:ie,label:te},v=""+new URL("img-down-arrow-851de25c.svg",import.meta.url).href,re=""+new URL("img-refrigerated-food-f7ceba47.svg",import.meta.url).href,ne=""+new URL("img-frozen-food-9fba03ec.svg",import.meta.url).href,oe=""+new URL("img-roomTemp-food-4fe99ee3.svg",import.meta.url).href;function de({checked:Re=!1,type:o="checkbox",...Ae}){i.useId();const[S,$]=i.useState([]),P=F(z,"products");i.useEffect(()=>{(async()=>{try{const n=(await U(P)).docs.map(I=>({...I.data(),id:I.id}));$(n)}catch(l){console.log(l)}})()},[]);const[T,E]=i.useState([]);i.useEffect(()=>{let a=sessionStorage.getItem("cart");a==null?a=[]:(a=JSON.parse(a),E(a))},[]);const R=T.map(a=>a.productId),t=S.filter(a=>R.includes(a.id)),j=t.filter(a=>a.type==="refrigerator"),_=t.filter(a=>a.type==="frozen"),p=t.filter(a=>a.type==="roomTemp"),[r,d]=i.useState([]),[N,A]=i.useState(!0),f=(a,l)=>{d(a?n=>[...n,l]:r.filter(n=>n!==l))},k=a=>{if(a){const l=[];t.forEach(n=>l.push(n.id)),d(l)}else d([])},g=()=>{A(a=>!a)},[m,C]=i.useState([]),[h,w]=i.useState([]),[x,y]=i.useState([]);return i.useEffect(()=>{C(m)},[m]),i.useEffect(()=>{w(h)},[h]),i.useEffect(()=>{y(x)},[x]),e.jsxs("div",{className:s.cartList,children:[e.jsxs("div",{className:s.radio,children:[e.jsxs("div",{className:s.checkbox,children:[e.jsx("input",{type:o,id:"selectAllTop",name:"select-all",className:s.input,onChange:a=>k(a.target.checked),checked:r.length===t.length}),e.jsx("label",{htmlFor:"selectAllTop",className:s.label})]}),e.jsxs("span",{className:s.all,children:["전체선택 (",r.length,"/",t.length,")"]}),e.jsx("div",{className:s.bar}),e.jsx("span",{className:s.delete,children:"선택삭제"})]}),e.jsxs("ul",{className:s.accordions,children:[e.jsxs("li",{className:s.accordion,children:[j.length>0?e.jsxs("div",{className:s.inner,children:[e.jsxs("div",{className:s.icon,children:[e.jsx("img",{src:re,alt:"냉장 식품",className:s.logo}),e.jsx("span",{className:s.text,children:"냉장 식품"})]}),e.jsx("button",{type:"button",className:s.arrow,onClick:a=>g(a.target),children:e.jsx("img",{src:v,alt:"더보기",className:s.arrowImg})})]}):"",N?"":e.jsx("ul",{className:s.detail,children:j.length>0?j.map(a=>e.jsxs("li",{className:s.product,children:[e.jsxs("div",{className:s.checkbox,children:[e.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:s.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),e.jsx("label",{htmlFor:`select-${a.id}`,className:s.label})]}),e.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:s.image}),e.jsx("div",{className:s.desc,children:e.jsx("span",{className:s.text,children:a.productName})}),e.jsx(u,{setParentState:C}),e.jsx("div",{className:s.price,children:e.jsxs("span",{className:s.text,children:[(a.salePrice===0?m*a.price:m*a.salePrice).toLocaleString(),"원"]})}),e.jsx("button",{type:"button",className:s.cancel,children:e.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]}),e.jsxs("li",{className:s.accordion,children:[_.length>0?e.jsxs("div",{className:s.inner,children:[e.jsxs("div",{className:s.icon,children:[e.jsx("img",{src:ne,alt:"냉동 식품",className:s.logo}),e.jsx("span",{className:s.text,children:"냉동 식품"})]}),e.jsx("button",{type:"button",className:s.arrow,onClick:g,children:e.jsx("img",{src:v,alt:"더보기",className:s.arrowImg})})]}):"",N?"":e.jsx("ul",{className:s.detail,children:_.length>0?_.map(a=>e.jsxs("li",{className:s.product,children:[e.jsxs("div",{className:s.checkbox,children:[e.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:s.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),e.jsx("label",{htmlFor:`select-${a.id}`,className:s.label})]}),e.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:s.image}),e.jsx("div",{className:s.desc,children:e.jsx("span",{className:s.text,children:a.productName})}),e.jsx(u,{setParentState:w}),e.jsx("div",{className:s.price,children:e.jsxs("span",{className:s.text,children:[(a.salePrice===0?h*a.price:h*a.salePrice).toLocaleString(),"원"]})}),e.jsx("button",{type:"button",className:s.cancel,children:e.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]}),e.jsxs("li",{className:s.accordion,children:[p.length>0?e.jsxs("div",{className:s.inner,children:[e.jsxs("div",{className:s.icon,children:[e.jsx("img",{src:oe,alt:"상온 식품",className:s.logo}),e.jsx("span",{className:s.text,children:"상온 식품"})]}),e.jsx("button",{type:"button",className:s.arrow,onClick:g,children:e.jsx("img",{src:v,alt:"더보기",className:s.arrowImg})})]}):"",N?"":e.jsx("ul",{className:s.detail,children:p.length>0?p.map(a=>e.jsxs("li",{className:s.product,children:[e.jsxs("div",{className:s.checkbox,children:[e.jsx("input",{id:`select-${a.id}`,type:o,name:`select-${a.id}`,className:s.input,onChange:l=>f(l.target.checked,a.id),checked:r.includes(a.id)}),e.jsx("label",{htmlFor:`select-${a.id}`,className:s.label})]}),e.jsx("img",{src:a.image.thumbnail,alt:a.image.alt,className:s.image}),e.jsx("div",{className:s.desc,children:e.jsx("span",{className:s.text,children:a.productName})}),e.jsx(u,{setParentState:y}),e.jsx("div",{className:s.price,children:e.jsxs("span",{className:s.text,children:[(a.salePrice===0?x*a.price:x*a.salePrice).toLocaleString(),"원"]})}),e.jsx("button",{type:"button",className:s.cancel,children:e.jsx("img",{src:b,alt:"취소"})})]},`select-${a.id}`)):""})]})]}),e.jsxs("div",{className:s.radio,children:[e.jsxs("div",{className:s.checkbox,children:[e.jsx("input",{type:o,id:"selectAllTop",name:"select-all",className:s.input,onChange:a=>k(a.target.checked),checked:r.length===t.length}),e.jsx("label",{htmlFor:"selectAllTop",className:s.label})]}),e.jsxs("span",{className:s.all,children:["전체선택 (",r.length,"/",t.length,")"]}),e.jsx("div",{className:s.bar}),e.jsx("span",{className:s.delete,children:"선택삭제"})]})]})}const me="_credit_2tsi3_139",he="_location_2tsi3_148",xe="_frame122_2tsi3_156",je="_frame121_2tsi3_166",_e="_address_2tsi3_186",pe="_delivery_2tsi3_194",Ne="_frame120_2tsi3_202",fe="_title_2tsi3_212",ge="_frame119_2tsi3_219",ue="_frame112_2tsi3_229",be="_price_2tsi3_239",ve="_priceType_2tsi3_246",ke="_frame113_2tsi3_253",Ce="_frame114_2tsi3_262",we="_frame115_2tsi3_271",ye="_frame118_2tsi3_280",Ie="_frame116_2tsi3_289",Le="_frame117_2tsi3_323",Se="_badge_2tsi3_332",$e="_saleInfo_2tsi3_350",Pe="_notice_2tsi3_358",c={credit:me,location:he,frame122:xe,frame121:je,address:_e,delivery:pe,frame120:Ne,title:fe,frame119:ge,frame112:ue,price:be,priceType:ve,frame113:ke,frame114:Ce,frame115:we,frame118:ye,frame116:Ie,frame117:Le,badge:Se,saleInfo:$e,notice:Pe},Te=""+new URL("img-location-5dffef3c.svg",import.meta.url).href;function Ee(){return e.jsxs("div",{className:c.credit,children:[e.jsxs("div",{className:c.location,children:[e.jsxs("div",{className:c.frame122,children:[e.jsxs("div",{className:c.frame121,children:[e.jsx("img",{src:Te,alt:"배송지"}),e.jsx("span",{children:"배송지"})]}),e.jsx("span",{className:c.address,children:"서울 중랑구 면목로 42길 11 (행운빌딩) 603호"}),e.jsx("span",{className:c.delivery,children:"샛별배송"}),e.jsx(L,{width:"244",color:"true",children:e.jsx("span",{children:"배송지 변경"})})]}),e.jsxs("div",{className:c.frame120,children:[e.jsxs("div",{className:c.frame119,children:[e.jsxs("div",{className:c.frame113,children:[e.jsx("span",{className:c.title,children:"상품금액"}),e.jsxs("div",{className:c.frame112,children:[e.jsx("span",{className:c.price,children:"40,680"}),e.jsx("span",{className:c.priceType,children:"원"})]})]}),e.jsxs("div",{className:c.frame114,children:[e.jsx("span",{className:c.title,children:"상품할인금액"}),e.jsxs("div",{className:c.frame112,children:[e.jsx("span",{className:c.price,children:"-4,651"}),e.jsx("span",{className:c.priceType,children:"원"})]})]}),e.jsxs("div",{className:c.frame115,children:[e.jsx("span",{className:c.title,children:"배송비"}),e.jsx("div",{className:c.slice}),e.jsxs("div",{className:c.frame112,children:[e.jsx("span",{className:c.price,children:"+3,000"}),e.jsx("span",{className:c.priceType,children:"원"})]})]})]}),e.jsxs("div",{className:c.frame118,children:[e.jsxs("div",{className:c.frame116,children:[e.jsx("span",{className:c.title,children:"결제예정금액"}),e.jsxs("div",{className:c.frame112,children:[e.jsx("span",{className:c.price,children:"40,680"}),e.jsx("span",{className:c.priceType,children:"원"})]})]}),e.jsxs("div",{className:c.frame117,children:[e.jsx("div",{className:c.badge,children:e.jsx("span",{children:"적립"})}),e.jsx("span",{className:c.saleInfo,children:"최대 36원 적립 일반 0.1%"})]})]})]})]}),e.jsx(L,{width:"284",children:e.jsx("span",{children:"주문하기"})}),e.jsxs("div",{className:c.notice,children:[e.jsx("p",{children:"쿠폰/적립금은 주문서에서 사용 가능합니다"}),e.jsx("p",{children:"[주문완료] 상태일 경우에만 주문 취소 가능합니다."}),e.jsx("p",{children:"[마이컬리 > 주문내역 상세페이지] 에서 직접 취소하실 수 있습니다."}),e.jsx("p",{children:"쿠폰, 적립금 사용 금액을 제외한 실 결제 금액 기준으로 최종 산정됩니다."}),e.jsx("p",{children:"상품별로 적립금 지급 기준이 다를 수 있습니다. (상품 상세 페이지에서 확인 가능합니다)"})]})]})}const Me=()=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"장바구니"}),e.jsxs("div",{className:M.cart,children:[e.jsx(de,{}),e.jsx(Ee,{})]})]});export{Me as default};
