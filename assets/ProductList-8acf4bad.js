import{c as b,j as e,L as W,b as f,r as N}from"./index-33503fdb.js";import{s as c,B as S,a as C,b as s,c as l,I as i}from"./InputCheckbox-8024a555.js";import{c as T}from"./button-cart-e0cb5e33.js";import{b as w,c as I,i as L}from"./bubbleState-cfec1ec9.js";import{X as O,d as P,J as $}from"./fbase-b339bbaa.js";const B="_listWrapper_qdcj4_139",D={listWrapper:B},_=({productId:n,productName:x,price:o,productDesc:r,salePrice:a,saleRatio:t,thumbnail:p,imgAlt:u})=>{const j=b(w),k=b(I),v=b(L),m={karlyOnly:{name:"Karly Only",color:"#5F0080"},limited:{name:"한정수량",color:"#2b2b2b"}},y=o.toLocaleString("ko-KR"),d=Math.round(t*100),F=()=>{const g=JSON.parse(sessionStorage.getItem("cart"));g==null||g.map(R=>{R.key===n&&v(!0)}),C(n),k(JSON.parse(sessionStorage.getItem("cart")).length),j(!0)};return e.jsxs(W,{to:`/product/${n}`,className:c.thumbnailWrapper,children:[e.jsxs("div",{className:c.thumbnailVisual,children:[e.jsx("img",{className:c.thumbnailImg,alt:u,src:p}),e.jsx("button",{onClick:F,className:c.cartButton,type:"button",children:e.jsx("img",{src:T})})]}),e.jsx("p",{className:c.starDelivery,children:"샛별배송"}),e.jsx("h4",{style:{overflow:"hidden",width:"250px",textOverflow:"revert"},children:x}),e.jsx("span",{className:d==0?null:c.saleRatio,children:d==0?null:`${d}%`}),e.jsxs("span",{children:[d==0?`${y}`:`${a.toLocaleString("ko-KR")}`,"원"]}),e.jsx("span",{className:d!==0?c.originalPrice:null,children:d!==0?`${y}원`:null}),e.jsx("p",{style:{overflow:"hidden",width:"250px",textOverflow:"revert"},children:r}),e.jsxs("div",{className:c.badgeWrapper,children:[e.jsx(S,{badgeName:m.karlyOnly.name,nameColor:m.karlyOnly.color}),e.jsx(S,{badgeName:m.limited.name,nameColor:m.limited.color})]})]})},J="/assets/question-d3fa6a79.svg",q=({totalNum:n})=>{const[x,o]=f.useState(!0),[r,a]=f.useState(0);return e.jsxs("div",{className:s.wrapper,children:[e.jsxs("span",{children:["총",n,"건"]}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:e.jsxs("ul",{className:s.productFilterWrapper,role:"tablist",children:[e.jsx("li",{className:s.productFilter,children:e.jsxs("a",{onClick:()=>{a(0)},href:"#",className:r===0?s.productFilterSelect:s.productFilterNoneSelect,children:["추천순",e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("img",{style:{marginLeft:"4px"},src:J,alt:"추천순 상세 설명",onMouseOver:()=>o(!1),onMouseOut:()=>o(!0)}),x?"":e.jsxs("p",{className:s.productTotalInfo,children:["소비자 인기도(판매량, 판매금액, 조회수 등), 상품",e.jsx("br",{}),"출시일, 수요 적합성, 상품 운영상 필요 등을 종합적",e.jsx("br",{}),"으로 고려한 순서입니다."]})]})]})}),e.jsx("li",{className:s.productFilter,children:e.jsx("a",{onClick:()=>{a(1)},href:"#",className:r===1?s.productFilterSelect:s.productFilterNoneSelect,children:"신상품순"})}),e.jsx("li",{className:s.productFilter,children:e.jsx("a",{onClick:()=>{a(2)},href:"#",className:r===2?s.productFilterSelect:s.productFilterNoneSelect,children:"판매량순"})}),e.jsx("li",{className:s.productFilter,children:e.jsx("a",{onClick:()=>{a(3)},href:"#",className:r===3?s.productFilterSelect:s.productFilterNoneSelect,children:"혜택순"})}),e.jsx("li",{className:s.productFilter,children:e.jsx("a",{onClick:()=>{a(4)},href:"#",className:r===4?s.productFilterSelect:s.productFilterNoneSelect,children:"낮은 가격순"})}),e.jsx("li",{className:s.productFilter,children:e.jsx("a",{onClick:()=>{a(5)},href:"#",className:r===5?s.productFilterSelect:s.productFilterNoneSelect,children:"높은 가격순"})})]})})]})},h="/assets/Drop-down-492badea.svg",A=()=>e.jsxs("nav",{style:{width:"240px",marginRight:"47px"},children:[e.jsxs("div",{className:l.filterTitle,children:[e.jsx("h4",{children:"필터"}),e.jsx("button",{type:"reset",children:"초기화"})]}),e.jsxs("ul",{children:[e.jsxs("div",{className:l.filterTitle,children:[e.jsx("h5",{children:"카테고리"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"샐러드∙간편식"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"국∙반찬∙메인요리"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"정육∙계란"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"과일∙견과∙쌀"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"간식∙과자∙떡"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"수산∙해산∙건어물"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"생수∙음료∙우유∙커피"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"베이커리∙치즈∙델리"}),e.jsx("span",{children:"0"})]}),e.jsxs("li",{className:l.checkWrapper,children:[e.jsx(i,{style:{marginRight:"8px"},label:"생활용품∙리빙∙캠핑"}),e.jsx("span",{children:"0"})]})]}),e.jsx("ul",{children:e.jsxs("div",{className:l.filterTitle,children:[e.jsx("h5",{children:"브랜드"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]})}),e.jsxs("ul",{className:l.filterTitle,children:[e.jsx("h5",{children:"가격"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]}),e.jsxs("ul",{className:l.filterTitle,children:[e.jsx("h5",{children:"혜택"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]}),e.jsxs("ul",{className:l.filterTitle,children:[e.jsx("h5",{children:"유형"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]}),e.jsxs("ul",{className:l.filterTitle,children:[e.jsx("h5",{children:"특정상품 제외"}),e.jsx("button",{type:"button",children:e.jsx("img",{src:h})})]})]}),X=()=>{const[n,x]=N.useState(0),[o,r]=N.useState([]),a=O(P,"products");return N.useEffect(()=>{(async()=>{try{const u=(await $(a)).docs.map(j=>({...j.data(),id:j.id}));r(u),x(o.length)}catch(p){console.log(p)}})()},[]),e.jsxs("div",{className:D.listWrapper,children:[e.jsx("h2",{style:{fontSize:"22px",fontWeight:600},children:"베스트"}),e.jsxs("div",{style:{display:"flex",marginTop:"5%",justifyContent:"space-between"},children:[e.jsx("section",{children:e.jsx(A,{})}),e.jsxs("article",{style:{maxWidth:"783px"},children:[e.jsx(q,{totalNum:n}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",height:"auto"},children:o.map(t=>e.jsx(_,{productId:t.id,productName:t.productName,salePrice:t.salePrice,saleRatio:t.saleRatio,price:t.price,productDesc:t.desc,thumbnail:t.image.thumbnail,imgAlt:t.image.alt},t.id))})]})]})]})};export{X as default};
